{"ast":null,"code":"import _defineProperty from\"/Users/benji/beinmatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _taggedTemplateLiteral from\"/Users/benji/beinmatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _regeneratorRuntime from\"/Users/benji/beinmatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/benji/beinmatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/benji/beinmatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject;import{fetchMatch}from\"api/apis\";import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import styled from\"styled-components\";import{useSelector,useDispatch}from\"react-redux\";import updateData from\"store/data\";import{Container,TodayMatch,TextWrapper,IframeContainer,ImageContainer,Logo,MatchCard,Name,RedTextContainer,Team,TimingOrScore,Title,Wrapper}from\"./match.style\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Match=function Match(){var _m$details;var _useParams=useParams(),idMatch=_useParams.idMatch;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),index=_useState2[0],setIndex=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),m=_useState4[0],setM=_useState4[1];var dispatch=useDispatch();var get_data=useSelector(function(state){return state.raw_data;})||[];useEffect(function(){if(get_data.raw_data){setM(get_data.raw_data.filter(function(item){return item.id===idMatch;})[0]);}else{var sendRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data,loadedItems,keyItem;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"/api\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"}});case 3:response=_context.sent;console.log(response);//   if(!response.ok){\n//       throw new Error('Something went wrong');\n//   }\n_context.next=7;return response.json();case 7:data=_context.sent;loadedItems=[];console.log(\"data\",data);for(keyItem in data){loadedItems.push({id:keyItem,details:data[keyItem]});}setM(loadedItems.filter(function(item){return item.id===idMatch;})[0]);dispatch(updateData(loadedItems));_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);case 18:case\"end\":return _context.stop();}}},_callee,null,[[0,15]]);}));return function sendRequest(){return _ref.apply(this,arguments);};}();if(index===0){sendRequest();console.log(\"index\",index);setIndex(1);}}},[get_data]);var Iframe=styled.iframe(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    padding-right: 20px;\\n    z-index: 0;\\n    margin-top: -220px;\\n  \"])));console.log(\"m\",m);return(m===null||m===void 0?void 0:(_m$details=m.details)===null||_m$details===void 0?void 0:_m$details.image_team2)?/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(TodayMatch,{children:/*#__PURE__*/_jsx(TextWrapper,{children:/*#__PURE__*/_jsx(Title,{children:\"\\u0627\\u0644\\u0635\\u0641\\u062D\\u0629 \\u0627\\u0644\\u062E\\u0627\\u0635\\u0629 \\u0628\\u0646\\u0642\\u0644 \\u0645\\u0628\\u0627\\u0631\\u0627\\u0629\"})})}),/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsxs(MatchCard,{children:[/*#__PURE__*/_jsxs(Team,{children:[/*#__PURE__*/_jsx(ImageContainer,{children:/*#__PURE__*/_jsx(Logo,{src:m.details.image_team2})}),/*#__PURE__*/_jsx(Name,{direction:\"left\",children:m.details.team2})]}),/*#__PURE__*/_jsx(TimingOrScore,{children:m.details.state}),/*#__PURE__*/_jsxs(Team,{children:[/*#__PURE__*/_jsx(Name,{direction:\"left\",children:m.details.team1}),/*#__PURE__*/_jsx(ImageContainer,{children:/*#__PURE__*/_jsx(Logo,{src:m.details.image_team1})})]})]}),/*#__PURE__*/_jsxs(IframeContainer,{children:[/*#__PURE__*/_jsx(\"div\",{id:\"PlaceToPutTable\"}),/*#__PURE__*/_jsx(Iframe,_defineProperty({height:\"800px\",id:\"iframe\",allowfullscreen:\"AllowFullScreen\",frameborder:\"0\",scrolling:\"\"// src={match.Link}\n,width:\"100%\",src:m.details.match_link},\"scrolling\",\"no\"))]})]})]}):/*#__PURE__*/_jsx(\"div\",{children:\"...Loading\"});};export default Match;","map":{"version":3,"names":["fetchMatch","React","useEffect","useState","useParams","styled","useSelector","useDispatch","updateData","Container","TodayMatch","TextWrapper","IframeContainer","ImageContainer","Logo","MatchCard","Name","RedTextContainer","Team","TimingOrScore","Title","Wrapper","Match","idMatch","index","setIndex","m","setM","dispatch","get_data","state","raw_data","filter","item","id","sendRequest","fetch","method","headers","response","console","log","json","data","loadedItems","keyItem","push","details","message","Iframe","iframe","image_team2","team2","team1","image_team1","match_link"],"sources":["/Users/benji/beinmatch/src/pages/Match/match.jsx"],"sourcesContent":["import { fetchMatch } from \"api/apis\";\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport updateData from \"store/data\";\nimport {\n  Container,\n  TodayMatch,\n  TextWrapper,\n  IframeContainer,\n  ImageContainer,\n  Logo,\n  MatchCard,\n  Name,\n  RedTextContainer,\n  Team,\n  TimingOrScore,\n  Title,\n  Wrapper,\n} from \"./match.style\";\n\nconst Match = () => {\n  const { idMatch } = useParams();\n  const [index, setIndex] = useState(0);\n  const [m, setM] = useState([]);\n  const dispatch = useDispatch();\n\n  const get_data = useSelector((state) => state.raw_data) || [];\n  useEffect(() => {\n    if (get_data.raw_data) {\n      setM(get_data.raw_data.filter((item) => item.id === idMatch)[0]);\n    } else {\n      const sendRequest = async () => {\n        try {\n          const response = await fetch(\"/api\", {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n          });\n          console.log(response);\n          //   if(!response.ok){\n          //       throw new Error('Something went wrong');\n          //   }\n\n          const data = await response.json();\n          let loadedItems = [];\n          console.log(\"data\", data);\n          for (const keyItem in data) {\n            loadedItems.push({ id: keyItem, details: data[keyItem] });\n          }\n\n          setM(loadedItems.filter((item) => item.id === idMatch)[0]);\n          dispatch(updateData(loadedItems));\n        } catch (e) {\n          console.log(e.message);\n        }\n      };\n      if (index === 0) {\n        sendRequest();\n        console.log(\"index\", index);\n        setIndex(1);\n      }\n    }\n  }, [get_data]);\n\n  const Iframe = styled.iframe`\n    padding-right: 20px;\n    z-index: 0;\n    margin-top: -220px;\n  `;\n  console.log(\"m\", m);\n  return m?.details?.image_team2 ? (\n    <Container>\n      <TodayMatch>\n        <TextWrapper>\n          <Title>الصفحة الخاصة بنقل مباراة</Title>\n        </TextWrapper>\n      </TodayMatch>\n      <Wrapper>\n        <MatchCard>\n          <Team>\n            <ImageContainer>\n              <Logo src={m.details.image_team2} />\n            </ImageContainer>\n            <Name direction=\"left\">{m.details.team2}</Name>\n          </Team>\n\n          <TimingOrScore>{m.details.state}</TimingOrScore>\n          <Team>\n            <Name direction=\"left\">{m.details.team1}</Name>\n            <ImageContainer>\n              <Logo src={m.details.image_team1} />\n            </ImageContainer>\n          </Team>\n        </MatchCard>\n        <IframeContainer>\n          <div id=\"PlaceToPutTable\"></div>\n          <Iframe\n            height=\"800px\"\n            id=\"iframe\"\n            allowfullscreen=\"AllowFullScreen\"\n            frameborder=\"0\"\n            scrolling=\"\"\n            // src={match.Link}\n            width=\"100%\"\n            src={m.details.match_link}\n            scrolling=\"no\"\n          ></Iframe>\n        </IframeContainer>\n      </Wrapper>\n    </Container>\n  ) : (\n    <div>...Loading</div>\n  );\n};\nexport default Match;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}