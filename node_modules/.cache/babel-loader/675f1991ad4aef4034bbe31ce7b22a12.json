{"ast":null,"code":"import _regeneratorRuntime from\"/Users/benji/bescrap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/benji/bescrap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/benji/bescrap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import MatchContainer from\"components/MatchContainer\";import React,{useState,useEffect}from\"react\";import{useMobileMediaQuery}from\"utils\";import{Container,TextWrapper,Title,TodayMatch,Date}from\"./home.style\";import{useDispatch,useSelector}from\"react-redux\";import{updateData}from\"store/data\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),RawData=_useState2[0],setRawData=_useState2[1];var dispatch=useDispatch();var global_data=useSelector(function(state){return state.raw_data;});var today=new window.Date();var date=today.getDate()+\"/\"+parseInt(today.getMonth()+1)+\"/\"+today.getFullYear();var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),TodMatch=_useState4[0],setTodMatch=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),YestMatch=_useState6[0],setYestMatch=_useState6[1];var isMobile=useMobileMediaQuery();console.log(\"isMobile\",isMobile);useEffect(function(){var sendRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data,loadedItems,keyItem;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"/api\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"}});case 3:response=_context.sent;console.log(response);_context.next=7;return response.json();case 7:data=_context.sent;loadedItems=[];console.log(\"data\",data);for(keyItem in data){loadedItems.push({id:keyItem,details:data[keyItem]});}setRawData(loadedItems);setTodMatch(loadedItems.filter(function(item){return item.details.score_team1===-1;}));setYestMatch(loadedItems.filter(function(item){return item.details.score_team1!==-1;}));dispatch(updateData(loadedItems));_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);case 20:case\"end\":return _context.stop();}}},_callee,null,[[0,17]]);}));return function sendRequest(){return _ref.apply(this,arguments);};}();sendRequest();},[]);return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(TodayMatch,{children:[/*#__PURE__*/_jsxs(TextWrapper,{children:[/*#__PURE__*/_jsx(Date,{children:date}),/*#__PURE__*/_jsx(Title,{children:\"\\u0645\\u0628\\u0627\\u0631\\u064A\\u0627\\u062A \\u0627\\u0644\\u064A\\u0648\\u0645\"})]}),TodMatch&&TodMatch.map(function(item){return/*#__PURE__*/_jsx(MatchContainer,{id:item.id,ScoreTeam1:item.details.score_team1,LogoTeam1:item.details.image_team1,Team1:item.details.team1,LogoTeam2:item.details.image_team2,Team2:item.details.team2,ScoreTeam2:item.details.score_team2,Time:item.details.state,Type:item.details.match_type,State:item.details.state},item.id);})]}),/*#__PURE__*/_jsxs(TodayMatch,{children:[/*#__PURE__*/_jsxs(TextWrapper,{children:[/*#__PURE__*/_jsx(Date,{}),/*#__PURE__*/_jsx(Title,{children:\"\\u0623\\u0647\\u062F\\u0627\\u0641 \\u0648\\u0645\\u0644\\u062E\\u0635\\u0627\\u062A \\u0645\\u0628\\u0627\\u0631\\u064A\\u0627\\u062A \\u0623\\u0645\\u0633\"})]}),YestMatch&&YestMatch.map(function(item){return/*#__PURE__*/_jsx(MatchContainer,{id:item.id,ScoreTeam1:item.details.score_team1,LogoTeam1:item.details.image_team1,Team1:item.details.team1,LogoTeam2:item.details.image_team2,Team2:item.details.team2,ScoreTeam2:item.details.score_team2,Time:item.details.state,Type:item.details.match_type,State:item.details.state},item.id);})]})]});};export default Home;","map":{"version":3,"names":["MatchContainer","React","useState","useEffect","useMobileMediaQuery","Container","TextWrapper","Title","TodayMatch","Date","useDispatch","useSelector","updateData","Home","RawData","setRawData","dispatch","global_data","state","raw_data","today","window","date","getDate","parseInt","getMonth","getFullYear","TodMatch","setTodMatch","YestMatch","setYestMatch","isMobile","console","log","sendRequest","fetch","method","headers","response","json","data","loadedItems","keyItem","push","id","details","filter","item","score_team1","message","map","image_team1","team1","image_team2","team2","score_team2","match_type"],"sources":["/Users/benji/bescrap/src/pages/Home/home.jsx"],"sourcesContent":["import MatchContainer from \"components/MatchContainer\";\nimport React, { useState, useEffect } from \"react\";\nimport { useMobileMediaQuery } from \"utils\";\nimport { Container, TextWrapper, Title, TodayMatch, Date } from \"./home.style\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { updateData } from \"store/data\";\n\nconst Home = () => {\n  const [RawData, setRawData] = useState([]);\n  const dispatch = useDispatch();\n  const global_data = useSelector((state) => state.raw_data);\n  let today = new window.Date();\n\n  let date =\n    today.getDate() +\n    \"/\" +\n    parseInt(today.getMonth() + 1) +\n    \"/\" +\n    today.getFullYear();\n  const [TodMatch, setTodMatch] = useState([]);\n  const [YestMatch, setYestMatch] = useState([]);\n\n  const isMobile = useMobileMediaQuery();\n  console.log(\"isMobile\", isMobile);\n  useEffect(() => {\n    const sendRequest = async () => {\n      try {\n        const response = await fetch(\"/api\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n        });\n        console.log(response);\n\n\n        const data = await response.json();\n        let loadedItems = [];\n        console.log(\"data\", data);\n        for (const keyItem in data) {\n          loadedItems.push({ id: keyItem, details: data[keyItem] });\n        }\n\n        setRawData(loadedItems);\n\n        setTodMatch(\n          loadedItems.filter((item) => item.details.score_team1 === -1)\n        );\n        setYestMatch(\n          loadedItems.filter((item) => item.details.score_team1 !== -1)\n        );\n        dispatch(updateData(loadedItems));\n      } catch (e) {\n        console.log(e.message);\n      }\n    };\n    sendRequest();\n  }, []);\n\n  return (\n    <Container>\n      <TodayMatch>\n        <TextWrapper>\n          <Date>{date}</Date>\n          <Title>مباريات اليوم</Title>\n        </TextWrapper>\n        {TodMatch &&\n          TodMatch.map((item) => {\n            return (\n              <MatchContainer\n                id={item.id}\n                key={item.id}\n                ScoreTeam1={item.details.score_team1}\n                LogoTeam1={item.details.image_team1}\n                Team1={item.details.team1}\n                LogoTeam2={item.details.image_team2}\n                Team2={item.details.team2}\n                ScoreTeam2={item.details.score_team2}\n                Time={item.details.state}\n                Type={item.details.match_type}\n                State={item.details.state}\n              />\n            );\n          })}\n      </TodayMatch>\n\n      <TodayMatch>\n        <TextWrapper>\n          <Date></Date>\n          <Title>أهداف وملخصات مباريات أمس</Title>\n        </TextWrapper>\n        {YestMatch &&\n          YestMatch.map((item) => {\n            return (\n              <MatchContainer\n                id={item.id}\n                key={item.id}\n                ScoreTeam1={item.details.score_team1}\n                LogoTeam1={item.details.image_team1}\n                Team1={item.details.team1}\n                LogoTeam2={item.details.image_team2}\n                Team2={item.details.team2}\n                ScoreTeam2={item.details.score_team2}\n                Time={item.details.state}\n                Type={item.details.match_type}\n                State={item.details.state}\n              />\n            );\n          })}\n      </TodayMatch>\n    </Container>\n  );\n};\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}